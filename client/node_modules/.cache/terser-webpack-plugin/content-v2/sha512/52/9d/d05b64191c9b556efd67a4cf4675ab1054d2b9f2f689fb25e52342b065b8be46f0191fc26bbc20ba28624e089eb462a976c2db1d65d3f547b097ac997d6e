{"map":{"version":3,"sources":["static/js/main.1294cb94.chunk.js"],"names":["this","push","43","module","exports","__webpack_require__","p","75","80","89","90","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","react_router_dom","react_router","createHttpLink","ApolloClient","inMemoryCache","ApolloProvider","context","slicedToArray","useQuery","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","objectWithoutProperties","toConsumableArray","reducers_reducer","state","action","type","Object","products","categories","currentCategory","cartOpen","cart","concat","product","newState","filter","length","map","purchaseQuantity","_excluded","StoreContext","Provider","GlobalState_StoreProvider","_ref","value","initialState","props","_useProductReducer","_useProductReducer2","dispatch","a","createElement","assign","GlobalState_useStoreContext","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","components_ProductItem","item","image","name","price","quantity","_useStoreContext","_useStoreContext2","className","to","alt","src","count","pluralize","onClick","itemInCart","find","cartItem","parseInt","taggedTemplateLiteral","lib","QUERY_PRODUCTS","QUERY_CATEGORIES","QUERY_USER","QUERY_CHECKOUT","spinner","spinner_default","components_ProductList","_useQuery","loading","data","forEach","then","category","key","components_CategoryMenu","categoryData","id","regenerator","regenerator_default","asyncToGenerator","components_CartItem","placeholder","onChange","target","role","aria-label","removeFromCart","classCallCheck","createClass","jwt_decode_lib","lib_default","auth","AuthService","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","removeItem","stripe_esm","useLazyQuery","stripePromise","components_Cart","_useLazyQuery","_useLazyQuery2","getCheckout","toggleCart","_getCart","mark","_callee","wrap","_context","prev","next","sent","stop","apply","arguments","getCart","res","redirectToCheckout","sessionId","checkout","session","sum","toFixed","calculateTotal","loggedIn","productIds","variables","i","pages_Home","pages_Detail","_useState","_useState2","currentProduct","setCurrentProduct","indexedProducts","Fragment","description","disabled","mutations_templateObject","mutations_templateObject2","mutations_templateObject3","components_Jumbotron","children","style","height","clear","paddingTop","textAlign","pages_NoMatch","defineProperty","useMutation","LOGIN","ADD_ORDER","ADD_USER","pages_Login","email","password","formState","setFormState","_useMutation","_useMutation2","login","error","handleFormSubmit","event","mutationResponse","preventDefault","t0","_x","handleChange","_event$target","onSubmit","htmlFor","pages_Signup","addUser","firstName","lastName","pages_Success","addOrder","_saveOrder","_yield$addOrder","setTimeout","saveOrder","components_Nav","href","logout","pages_OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","httpLink","uri","authLink","_","headers","authorization","client","link","cache","src_App","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","Service-Worker","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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"},"code":"(this[\"webpackJsonpmern-client\"]=this[\"webpackJsonpmern-client\"]||[]).push([[0],{43:function(e,t,a){e.exports=a.p+\"static/media/spinner.ab497855.gif\"},75:function(e,t,a){e.exports=a(90)},80:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),c=a(60),o=a.n(c),l=(a(80),a(3)),i=a(10),u=a(8),s=a(69),m=a(72),d=a(102),p=a(100),E=a(68),f=a(6),b=a(63);function g(e,t,a){return new Promise((function(n,r){var c,o,l,i=window.indexedDB.open(\"shop-shop\",1);i.onupgradeneeded=function(e){var t=i.result;t.createObjectStore(\"products\",{keyPath:\"_id\"}),t.createObjectStore(\"categories\",{keyPath:\"_id\"}),t.createObjectStore(\"cart\",{keyPath:\"_id\"})},i.onerror=function(e){console.log(\"There was an error\")},i.onsuccess=function(r){switch(c=i.result,o=c.transaction(e,\"readwrite\"),l=o.objectStore(e),c.onerror=function(e){console.log(\"error\",e)},t){case\"put\":l.put(a),n(a);break;case\"get\":var u=l.getAll();u.onsuccess=function(){n(u.result)};break;case\"delete\":l.delete(a._id);break;default:console.log(\"No valid method\")}o.oncomplete=function(){c.close()}}}))}var h=a(70),O=a(26),v=function(e,t){switch(t.type){case\"UPDATE_PRODUCTS\":return Object(l.a)(Object(l.a)({},e),{},{products:Object(O.a)(t.products)});case\"UPDATE_CATEGORIES\":return Object(l.a)(Object(l.a)({},e),{},{categories:Object(O.a)(t.categories)});case\"UPDATE_CURRENT_CATEGORY\":return Object(l.a)(Object(l.a)({},e),{},{currentCategory:t.currentCategory});case\"ADD_TO_CART\":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(O.a)(e.cart),[t.product])});case\"ADD_MULTIPLE_TO_CART\":return Object(l.a)(Object(l.a)({},e),{},{cart:[].concat(Object(O.a)(e.cart),Object(O.a)(t.products))});case\"REMOVE_FROM_CART\":var a=e.cart.filter((function(e){return e._id!==t._id}));return Object(l.a)(Object(l.a)({},e),{},{cartOpen:a.length>0,cart:a});case\"UPDATE_CART_QUANTITY\":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case\"CLEAR_CART\":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!1,cart:[]});case\"TOGGLE_CART\":return Object(l.a)(Object(l.a)({},e),{},{cartOpen:!e.cartOpen});default:return e}};var y=[\"value\"],j=Object(n.createContext)(),w=j.Provider,_=function(e){e.value;var t,a=Object(h.a)(e,y),c=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:\"\"},Object(n.useReducer)(v,t)),o=Object(f.a)(c,2),l=o[0],i=o[1];return console.log(l),r.a.createElement(w,Object.assign({value:[l,i]},a))},T=function(){return Object(n.useContext)(j)};var k,N,C,x,A,R=function(e){var t=e.image,a=e.name,n=e._id,c=e.price,o=e.quantity,u=T(),s=Object(f.a)(u,2),m=s[0],d=s[1],p=m.cart;return r.a.createElement(\"div\",{className:\"card px-1 py-1\"},r.a.createElement(i.b,{to:\"/products/\".concat(n)},r.a.createElement(\"img\",{alt:a,src:\"/images/\".concat(t)}),r.a.createElement(\"p\",null,a)),r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,o,\" \",function(e,t){return 1===t?e:e+\"s\"}(\"item\",o),\" in stock\"),r.a.createElement(\"span\",null,\"$\",c)),r.a.createElement(\"button\",{onClick:function(){var t=p.find((function(e){return e._id===n}));t?(d({type:\"UPDATE_CART_QUANTITY\",_id:n,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),g(\"cart\",\"put\",Object(l.a)(Object(l.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(d({type:\"ADD_TO_CART\",product:Object(l.a)(Object(l.a)({},e),{},{purchaseQuantity:1})}),g(\"cart\",\"put\",Object(l.a)(Object(l.a)({},e),{},{purchaseQuantity:1})))}},\"Add to cart\"))},D=a(22),S=a(101),P=Object(S.a)(k||(k=Object(D.a)([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),U=(Object(S.a)(N||(N=Object(D.a)([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"]))),Object(S.a)(C||(C=Object(D.a)([\"\\n  {\\n    categories {\\n      _id\\n      name\\n    }\\n  }\\n\"])))),I=Object(S.a)(x||(x=Object(D.a)([\"\\n  {\\n    user {\\n      firstName\\n      lastName\\n      orders {\\n        _id\\n        purchaseDate\\n        products {\\n          _id\\n          name\\n          description\\n          price\\n          quantity\\n          image\\n        }\\n      }\\n    }\\n  }\\n\"]))),Q=Object(S.a)(A||(A=Object(D.a)([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"]))),$=a(43),F=a.n($);var L=function(){var e=T(),t=Object(f.a)(e,2),a=t[0],c=t[1],o=a.currentCategory,l=Object(b.a)(P),i=l.loading,u=l.data;return Object(n.useEffect)((function(){u?(c({type:\"UPDATE_PRODUCTS\",products:u.products}),u.products.forEach((function(e){g(\"products\",\"put\",e)}))):i||g(\"products\",\"get\").then((function(e){c({type:\"UPDATE_PRODUCTS\",products:e})}))}),[u,i,c]),r.a.createElement(\"div\",{className:\"my-2\"},r.a.createElement(\"h2\",null,\"Our Products:\"),a.products.length?r.a.createElement(\"div\",{className:\"flex-row\"},(o?a.products.filter((function(e){return e.category._id===o})):a.products).map((function(e){return r.a.createElement(R,{key:e._id,_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity})}))):r.a.createElement(\"h3\",null,\"You haven't added any products yet!\"),i?r.a.createElement(\"img\",{src:F.a,alt:\"loading\"}):null)};var M=function(){var e=T(),t=Object(f.a)(e,2),a=t[0],c=t[1],o=a.categories,l=Object(b.a)(U),i=l.loading,u=l.data;return Object(n.useEffect)((function(){u?(c({type:\"UPDATE_CATEGORIES\",categories:u.categories}),u.categories.forEach((function(e){g(\"categories\",\"put\",e)}))):i||g(\"categories\",\"get\").then((function(e){c({type:\"UPDATE_CATEGORIES\",categories:e})}))}),[u,i,c]),r.a.createElement(\"div\",null,r.a.createElement(\"h2\",null,\"Choose a Category:\"),o.map((function(e){return r.a.createElement(\"button\",{key:e._id,onClick:function(){var t;t=e._id,c({type:\"UPDATE_CURRENT_CATEGORY\",currentCategory:t})}},e.name)})))},q=a(16),G=a.n(q),Y=a(25),W=function(e){var t=e.item,a=T(),n=Object(f.a)(a,2)[1];return r.a.createElement(\"div\",{className:\"flex-row\"},r.a.createElement(\"div\",null,r.a.createElement(\"img\",{src:\"/images/\".concat(t.image),alt:\"\"})),r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,t.name,\", $\",t.price),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"Qty:\"),r.a.createElement(\"input\",{type:\"number\",placeholder:\"1\",value:t.purchaseQuantity,onChange:function(e){var a=e.target.value;\"0\"===a?(n({type:\"REMOVE_FROM_CART\",_id:t._id}),g(\"cart\",\"delete\",Object(l.a)({},t))):(n({type:\"UPDATE_CART_QUANTITY\",_id:t._id,purchaseQuantity:parseInt(a)}),g(\"cart\",\"put\",Object(l.a)(Object(l.a)({},t),{},{purchaseQuantity:parseInt(a)})))}}),r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function(){return function(e){n({type:\"REMOVE_FROM_CART\",_id:e._id}),g(\"cart\",\"delete\",Object(l.a)({},e))}(t)}},\"\\ud83d\\uddd1\\ufe0f\"))))},B=a(65),H=a(66),V=a(52),J=a.n(V),z=new(function(){function e(){Object(B.a)(this,e)}return Object(H.a)(e,[{key:\"getProfile\",value:function(){return J()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return J()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),K=(a(89),a(67)),X=a(98),Z=Object(K.a)(\"pk_test_TYooMQauvdEDq54NiTphI7jx\"),ee=function(){var e=T(),t=Object(f.a)(e,2),a=t[0],c=t[1],o=Object(X.a)(Q),l=Object(f.a)(o,2),i=l[0],u=l[1].data;function s(){c({type:\"TOGGLE_CART\"})}return Object(n.useEffect)((function(){function e(){return(e=Object(Y.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(\"cart\",\"get\");case 2:t=e.sent,c({type:\"ADD_MULTIPLE_TO_CART\",products:Object(O.a)(t)});case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}a.cart.length||function(){e.apply(this,arguments)}()}),[a.cart.length,c]),Object(n.useEffect)((function(){u&&Z.then((function(e){e.redirectToCheckout({sessionId:u.checkout.session})}))}),[u]),a.cartOpen?r.a.createElement(\"div\",{className:\"cart\"},r.a.createElement(\"div\",{className:\"close\",onClick:s},\"[close]\"),r.a.createElement(\"h2\",null,\"Shopping Cart\"),a.cart.length?r.a.createElement(\"div\",null,a.cart.map((function(e){return r.a.createElement(W,{key:e._id,item:e})})),r.a.createElement(\"div\",{className:\"flex-row space-between\"},r.a.createElement(\"strong\",null,\"Total: $\",function(){var e=0;return a.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()),z.loggedIn()?r.a.createElement(\"button\",{onClick:function(){var e=[];i({variables:{products:e}}),a.cart.forEach((function(t){for(var a=0;a<t.purchaseQuantity;a++)e.push(t._id)}))}},\"Checkout\"):r.a.createElement(\"span\",null,\"(log in to check out)\"))):r.a.createElement(\"h3\",null,r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"shocked\"},\"\\ud83d\\ude31\"),\"You haven't added anything to your cart yet!\")):r.a.createElement(\"div\",{className:\"cart-closed\",onClick:s},r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"trash\"},\"\\ud83d\\uded2\"))},te=function(){return r.a.createElement(\"div\",{className:\"container\"},r.a.createElement(M,null),r.a.createElement(L,null),r.a.createElement(ee,null))};var ae=function(){var e=T(),t=Object(f.a)(e,2),a=t[0],c=t[1],o=Object(u.f)().id,s=Object(n.useState)({}),m=Object(f.a)(s,2),d=m[0],p=m[1],E=Object(b.a)(P),h=E.loading,O=E.data,v=a.products,y=a.cart;return Object(n.useEffect)((function(){v.length?p(v.find((function(e){return e._id===o}))):O?(c({type:\"UPDATE_PRODUCTS\",products:O.products}),O.products.forEach((function(e){g(\"products\",\"put\",e)}))):h||g(\"products\",\"get\").then((function(e){c({type:\"UPDATE_PRODUCTS\",products:e})}))}),[v,O,h,c,o]),r.a.createElement(r.a.Fragment,null,d?r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/\"},\"\\u2190 Back to Products\"),r.a.createElement(\"h2\",null,d.name),r.a.createElement(\"p\",null,d.description),r.a.createElement(\"p\",null,r.a.createElement(\"strong\",null,\"Price:\"),\"$\",d.price,\" \",r.a.createElement(\"button\",{onClick:function(){var e=y.find((function(e){return e._id===o}));e?(c({type:\"UPDATE_CART_QUANTITY\",_id:o,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),g(\"cart\",\"put\",Object(l.a)(Object(l.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(c({type:\"ADD_TO_CART\",product:Object(l.a)(Object(l.a)({},d),{},{purchaseQuantity:1})}),g(\"cart\",\"put\",Object(l.a)(Object(l.a)({},d),{},{purchaseQuantity:1})))}},\"Add to cart\"),r.a.createElement(\"button\",{disabled:!y.find((function(e){return e._id===d._id})),onClick:function(){c({type:\"REMOVE_FROM_CART\",_id:d._id}),g(\"cart\",\"delete\",Object(l.a)({},d))}},\"Remove from Cart\")),r.a.createElement(\"img\",{src:\"/images/\".concat(d.image),alt:d.name})):null,h?r.a.createElement(\"img\",{src:F.a,alt:\"loading\"}):null,r.a.createElement(ee,null))};var ne,re,ce,oe=function(e){var t=e.children;return r.a.createElement(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"}},t)},le=function(){return r.a.createElement(\"div\",null,r.a.createElement(oe,null,r.a.createElement(\"h1\",null,\"404 Page Not Found\"),r.a.createElement(\"h1\",null,r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\"},\"\\ud83d\\ude44\"))))},ie=a(31),ue=a(99),se=Object(S.a)(ne||(ne=Object(D.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),me=Object(S.a)(re||(re=Object(D.a)([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        category {\\n          name\\n        }\\n      }\\n    }\\n  }\\n\"]))),de=Object(S.a)(ce||(ce=Object(D.a)([\"\\n  mutation addUser(\\n    $firstName: String!\\n    $lastName: String!\\n    $email: String!\\n    $password: String!\\n  ) {\\n    addUser(\\n      firstName: $firstName\\n      lastName: $lastName\\n      email: $email\\n      password: $password\\n    ) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var pe=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),a=Object(f.a)(t,2),c=a[0],o=a[1],u=Object(ue.a)(se),s=Object(f.a)(u,2),m=s[0],d=s[1].error,p=function(){var e=Object(Y.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,m({variables:{email:c.email,password:c.password}});case 4:a=e.sent,n=a.data.login.token,z.login(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=e.target,a=t.name,n=t.value;o(Object(l.a)(Object(l.a)({},c),{},Object(ie.a)({},a,n)))};return r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/signup\"},\"\\u2190 Go to Signup\"),r.a.createElement(\"h2\",null,\"Login\"),r.a.createElement(\"form\",{onSubmit:p},r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email address:\"),r.a.createElement(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:E})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"pwd\"},\"Password:\"),r.a.createElement(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:E})),d?r.a.createElement(\"div\",null,r.a.createElement(\"p\",{className:\"error-text\"},\"The provided credentials are incorrect\")):null,r.a.createElement(\"div\",{className:\"flex-row flex-end\"},r.a.createElement(\"button\",{type:\"submit\"},\"Submit\"))))};var Ee=function(e){var t=Object(n.useState)({email:\"\",password:\"\"}),a=Object(f.a)(t,2),c=a[0],o=a[1],u=Object(ue.a)(de),s=Object(f.a)(u,1)[0],m=function(){var e=Object(Y.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s({variables:{email:c.email,password:c.password,firstName:c.firstName,lastName:c.lastName}});case 3:a=e.sent,n=a.data.addUser.token,z.login(n);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,a=t.name,n=t.value;o(Object(l.a)(Object(l.a)({},c),{},Object(ie.a)({},a,n)))};return r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/login\"},\"\\u2190 Go to Login\"),r.a.createElement(\"h2\",null,\"Signup\"),r.a.createElement(\"form\",{onSubmit:m},r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"firstName\"},\"First Name:\"),r.a.createElement(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:d})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"lastName\"},\"Last Name:\"),r.a.createElement(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:d})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"email\"},\"Email:\"),r.a.createElement(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:d})),r.a.createElement(\"div\",{className:\"flex-row space-between my-2\"},r.a.createElement(\"label\",{htmlFor:\"pwd\"},\"Password:\"),r.a.createElement(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:d})),r.a.createElement(\"div\",{className:\"flex-row flex-end\"},r.a.createElement(\"button\",{type:\"submit\"},\"Submit\"))))};var fe=function(){var e=Object(ue.a)(me),t=Object(f.a)(e,1)[0];return Object(n.useEffect)((function(){function e(){return(e=Object(Y.a)(G.a.mark((function e(){var a,n,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(\"cart\",\"get\");case 2:if(a=e.sent,!(n=a.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:n}});case 7:r=e.sent,c=r.data,c.addOrder.products.forEach((function(e){g(\"cart\",\"delete\",e)}));case 11:setTimeout((function(){window.location.assign(\"/\")}),3e3);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),r.a.createElement(\"div\",null,r.a.createElement(oe,null,r.a.createElement(\"h1\",null,\"Success!\"),r.a.createElement(\"h2\",null,\"Thank you for your purchase!\"),r.a.createElement(\"h2\",null,\"You will now be redirected to the homepage\")))};var be=function(){return r.a.createElement(\"header\",{className:\"flex-row px-1\"},r.a.createElement(\"h1\",null,r.a.createElement(i.b,{to:\"/\"},r.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\"},\"\\ud83d\\udecd\\ufe0f\"),\"-Shop-Shop\")),r.a.createElement(\"nav\",null,z.loggedIn()?r.a.createElement(\"ul\",{className:\"flex-row\"},r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/orderHistory\"},\"Order History\")),r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(\"a\",{href:\"/\",onClick:function(){return z.logout()}},\"Logout\"))):r.a.createElement(\"ul\",{className:\"flex-row\"},r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/signup\"},\"Signup\")),r.a.createElement(\"li\",{className:\"mx-1\"},r.a.createElement(i.b,{to:\"/login\"},\"Login\")))))};var ge=function(){var e,t=Object(b.a)(I).data;return t&&(e=t.user),r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"container my-1\"},r.a.createElement(i.b,{to:\"/\"},\"\\u2190 Back to Products\"),e?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"h2\",null,\"Order History for \",e.firstName,\" \",e.lastName),e.orders.map((function(e){return r.a.createElement(\"div\",{key:e._id,className:\"my-2\"},r.a.createElement(\"h3\",null,new Date(parseInt(e.purchaseDate)).toLocaleDateString()),r.a.createElement(\"div\",{className:\"flex-row\"},e.products.map((function(e,t){var a=e._id,n=e.image,c=e.name,o=e.price;return r.a.createElement(\"div\",{key:t,className:\"card px-1 py-1\"},r.a.createElement(i.b,{to:\"/products/\".concat(a)},r.a.createElement(\"img\",{alt:c,src:\"/images/\".concat(n)}),r.a.createElement(\"p\",null,c)),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"$\",o)))}))))}))):null))},he=Object(s.a)({uri:\"/graphql\"}),Oe=Object(E.a)((function(e,t){var a=t.headers,n=localStorage.getItem(\"id_token\");return{headers:Object(l.a)(Object(l.a)({},a),{},{authorization:n?\"Bearer \".concat(n):\"\"})}})),ve=new m.a({link:Oe.concat(he),cache:new d.a});var ye=function(){return r.a.createElement(p.a,{client:ve},r.a.createElement(i.a,null,r.a.createElement(\"div\",null,r.a.createElement(_,null,r.a.createElement(be,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:\"/\",component:te}),r.a.createElement(u.a,{exact:!0,path:\"/login\",component:pe}),r.a.createElement(u.a,{exact:!0,path:\"/signup\",component:Ee}),r.a.createElement(u.a,{exact:!0,path:\"/orderHistory\",component:ge}),r.a.createElement(u.a,{exact:!0,path:\"/products/:id\",component:ae}),r.a.createElement(u.a,{exact:!0,path:\"/success\",component:fe}),r.a.createElement(u.a,{component:le}))))))},je=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function we(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){\"installed\"===a.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ye,null)),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(\"\",\"/service-worker.js\");je?(!function(e,t){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(a){var n=a.headers.get(\"content-type\");404===a.status||null!=n&&-1===n.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):we(e,t)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):we(t,e)}))}}()}},[[75,1,2]]]);","extractedComments":[]}